import React, { useState } from 'react';
import { Button } from '@patternfly/react-core';

import VulnerabilityCommentsModal from './VulnerabilityCommentsModal';

function VulnerabilityCommentsButton({ cve, comments }) {
    const [isModalOpen, setIsModalOpen] = useState(false);

    function openModal() {
        setIsModalOpen(true);
    }

    function closeModal() {
        setIsModalOpen(false);
    }

    return (
        <>
            <Button variant="link" isInline onClick={openModal}>
                {comments.length} comments
            </Button>
            <VulnerabilityCommentsModal
                isOpen={isModalOpen}
                cve={cve}
                comments={comments}
                onClose={closeModal}
            />
        </>
    );
}

export default VulnerabilityCommentsButton;
