apply plugin: 'java'
apply plugin: 'groovy'

sourceCompatibility = 1.8
version = '1.0'

// In this section you declare where to find the dependencies of your project
repositories {
    // Use jcenter for resolving your dependencies.
    // You can declare any Maven/Ivy/file repository here.
   // jcenter()
    mavenCentral()
}

dependencies {
    // Use the latest Groovy version for building this library
    compile 'org.codehaus.groovy:groovy-all:2.2.2'
    testCompile group: 'junit', name: 'junit', version: '4.11'
    testCompile group: 'org.yaml', name: 'snakeyaml', version: '1.16'
    testCompile group: 'com.jayway.restassured', name: 'rest-assured', version: '2.4.1'
    testCompile group: 'ch.qos.logback', name: 'logback-classic', version: '0.9.26'
    testCompile group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: '2.6.1'
    testCompile group: 'com.fasterxml.jackson.core', name: 'jackson-annotations', version: '2.5.3'
    testCompile group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: '2.6.1'
    testCompile( 'com.athaydes:spock-reports:1.4.0' ) {
        transitive = false
    }
    compile group: 'com.google.protobuf', name: 'protobuf-java', version: '3.5.1'
    compile group: 'com.google.protobuf', name: 'protobuf-java-util', version: '3.5.1'


    // Use the awesome Spock testing and specification framework
    testCompile group: 'org.spockframework', name: 'spock-core', version: '1.1-groovy-2.0'
    testCompile group: 'com.google.code.gson', name: 'gson', version: '2.7'
    testCompile group: 'com.codepine.api', name: 'testrail-api-java-client', version: '2.0.0'
    compile group: 'commons-cli', name: 'commons-cli', version: '1.2'
}

test {
    testLogging.showStandardStreams = true
    useJUnit()
    systemProperty "cluster", System.getProperty("cluster")
    systemProperty "testrail", System.getProperty("testrail")
    systemProperty "username", System.getProperty("username")
    systemProperty "password", System.getProperty("password")
    environment "cluster", System.getenv("cluster")
    environment "testrail" , System.getenv("testrail")
    environment "username" , System.getenv("username")
    environment "password" , System.getenv("password")
}


